@rendermode InteractiveServer

<EditForm Model="Model" OnValidSubmit="HandleValidSubmit" class="flex flex-col gap-4">
    
    @for (var i = 0; i < Properties.Count; i++)
    {
        var j = i; // Capture the current index for use in the field component
        <DynamicEntryField SchemaProperty="Properties[j]" @ref="Fields[j]" />
    }

    <div class="flex gap-2 justify-start mt-2">
        <button type="submit" class="inline-flex items-center justify-center rounded-md font-medium bg-blue-600 hover:bg-blue-700 text-white text-sm px-3 py-2" aria-label="Save Entry">
            <span class="material-symbols-outlined icons-default text-base mr-2">save</span>
            Save
        </button>
        <button type="button" class="inline-flex items-center justify-center rounded-md font-medium bg-slate-200 text-slate-900 hover:bg-slate-300 text-sm px-3 py-2" @onclick="HandleCancel" aria-label="Cancel">
            <span class="material-symbols-outlined icons-default text-base mr-2">close</span>
            Cancel
        </button>
    </div>
</EditForm>
