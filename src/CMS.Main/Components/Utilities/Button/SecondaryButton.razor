@using Microsoft.AspNetCore.Components
@using Microsoft.AspNetCore.Components.Web
@using CMS.Main.Components.Utilities.Button

<button @attributes="AdditionalAttributes"
    class="inline-flex items-center justify-center rounded-full font-medium border border-slate-600 bg-slate-700 text-slate-100 hover:bg-slate-600 hover:border-slate-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-slate-900 disabled:opacity-50 disabled:cursor-not-allowed transition-colors @SizeClass"
    @onclick="OnClick"
    disabled="@Disabled"
    type="@Type">
    @if (!string.IsNullOrEmpty(Icon))
    {
        <Icon Name="@Icon" Class="text-base mr-2" aria-hidden="true" />
    }
    @ChildContent
</button>

@code {
    [Parameter] public RenderFragment? ChildContent { get; set; }

    [Parameter] public string? Icon { get; set; }

    [Parameter] public EventCallback<MouseEventArgs> OnClick { get; set; }

    [Parameter] public bool Disabled { get; set; }

    [Parameter] public string Type { get; set; } = "button";

    [Parameter] public ButtonSize Size { get; set; } = ButtonSize.Medium;

    [Parameter(CaptureUnmatchedValues = true)] public Dictionary<string, object>? AdditionalAttributes { get; set; }

    private string SizeClass => Size switch
    {
        ButtonSize.Small => "text-xs px-2.5 py-1.5",
        ButtonSize.Medium => "text-sm px-3 py-2",
        _ => "text-sm px-3 py-2"
    };
}
