<Table>
    <TableHead>
        <TableRow>
            <TableHeader Class="font-mono text-xs">ID</TableHeader>
            <TableHeader>Name</TableHeader>
            <TableHeader>Created</TableHeader>
            <TableHeader>Status</TableHeader>
            <TableHeader Class="text-right">Actions</TableHeader>
        </TableRow>
    </TableHead>
    <TableBody>
        @if (ApiKeys.Any())
        {
            foreach (var key in ApiKeys)
            {
                <TableRow>
                    <TableData Class="font-mono text-xs whitespace-nowrap">@key.Id</TableData>
                    <TableData Class="truncate max-w-[240px]">@key.Name</TableData>
                    <TableData Class="whitespace-nowrap">@key.CreatedAt.ToString("g")</TableData>
                    <TableData>
                        <label class="inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer" checked="@key.IsActive" @onchange="e => OnToggleKeyState(key, e.Value)" />
                            <div class="relative w-11 h-6 bg-neutral-600 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-purple-500 peer-focus:ring-offset-2 peer-focus:ring-offset-neutral-900 rounded-full peer peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-500"></div>
                        </label>
                    </TableData>
                    <TableData Class="text-right flex gap-2 justify-end">
                        <PrimaryButton Variant="ButtonVariant.Danger" Icon="delete" @onclick="() => OnDeleteKey(key)" aria-label="Delete API Key">Delete</PrimaryButton>
                    </TableData>
                </TableRow>
            }
        }
        else
        {
            <TableRow>
                <TableData Class="px-3 py-4 text-neutral-400 text-sm" colspan="5">No API keys yet.</TableData>
            </TableRow>
        }
    </TableBody>
</Table>

<div class="hidden whitespace-pre"></div>